!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.html5tooltips=e()}(this,function(){var t='<div class="html5tooltip" style="box-sizing:border-box;position:fixed;z-index:2147483647">  <div class="html5tooltip-box" box>    <div class="html5tooltip-text" text></div>    <div class="html5tooltip-more" style="overflow:hidden;" more>      <div class="html5tooltip-text" more-text></div>    </div>  </div></div>',e={animateFunction:{fadeIn:"fadein",foldIn:"foldin",foldOut:"foldout",roll:"roll",scaleIn:"scalein",slideIn:"slidein",spin:"spin"},color:{daffodil:{r:255,g:230,b:23},daisy:{r:250,g:211,b:28},mustard:{r:253,g:183,b:23},"citrus zest":{r:250,g:170,b:33},pumpkin:{r:241,g:117,b:63},tangerine:{r:237,g:87,b:36},salmon:{r:240,g:70,b:57},persimmon:{r:234,g:40,b:48},rouge:{r:188,g:35,b:38},scarlet:{r:140,g:12,b:3},"hot pink":{r:229,g:24,b:93},princess:{r:243,g:132,b:174},petal:{r:250,g:198,b:210},lilac:{r:178,g:150,b:199},lavender:{r:123,g:103,b:174},violet:{r:95,g:53,b:119},cloud:{r:195,g:222,b:241},dream:{r:85,g:190,b:237},gulf:{r:49,g:168,b:224},turquoise:{r:35,g:138,b:204},sky:{r:13,g:96,b:174},indigo:{r:20,g:59,b:134},navy:{r:0,g:27,b:74},"sea foam":{r:125,g:205,b:194},teal:{r:0,g:168,b:168},peacock:{r:18,g:149,b:159},ceadon:{r:193,g:209,b:138},olive:{r:121,g:145,b:85},bamboo:{r:128,g:188,b:66},grass:{r:74,g:160,b:63},kelly:{r:22,g:136,b:74},forrest:{r:0,g:63,b:46},chocolate:{r:56,g:30,b:17},"terra cotta":{r:192,g:92,b:32},camel:{r:191,g:155,b:107},linen:{r:233,g:212,b:167},stone:{r:231,g:230,b:225},smoke:{r:207,g:208,b:210},steel:{r:138,g:139,b:143},slate:{r:119,g:133,b:144},charcoal:{r:71,g:77,b:77},black:{r:5,g:6,b:8},white:{r:255,g:255,b:255},"metalic silver":{r:152,g:162,b:171},"metalic gold":{r:159,g:135,b:89},"metalic copper":{r:140,g:102,b:65}},stickTo:{bottom:"bottom",left:"left",right:"right",top:"top"}},n={animateDuration:300,animateFunction:e.animateFunction.fadeIn,delay:500,disableAnimation:!1,hideDelay:300,persistent:!1,stickTo:e.stickTo.bottom,stickDistance:10};function i(t,e){function n(t,e){return Array.prototype.slice.call(t,e)}function i(t){var e=n(t).map(function(t){return typeof t}),i={};if("object"===e[0])i=t[0];else if("string"===e[0]){var o=t[0].split(" ");for(var r in o)i[o[r]]=t[1]}else"function"===e[0]&&(i={"":t[0]});return i}function o(t){clearTimeout(s[t]),s[t]=setTimeout(function(){for(var e in a[t])try{a[t][e](r.model[t])}catch(e){}if(a[""])for(var e in a[""])a[""][e]()})}var r=this,l={},a={},s={};if(r.anchors=[],r.elements=[],r.model={},r.publ=t||{},r.destroy=function(){r.unmount()},r.dispatch=function(t){var e=n(arguments,1);setTimeout(function(){for(var n in l[t])l[t][n].apply(r.publ,e)})},r.onModelUpdate=function(){var t=i(arguments);for(var e in t)r.model[e]=r.model[e]||null,a[e]=a[e]||[],a[e].push(t[e]),o(e)},r.mount=function(t){t=t||document.body;try{for(var e,n=0;e=r.elements[n++];)t.appendChild(e)}catch(t){throw"Could not mount component: "+t.message}},r.set=function(){var t=i(arguments);for(var e in t)r.model[e]=t[e],o(e)},r.unmount=function(){for(var t,e=0;t=r.elements[e++];)t.parentNode&&t.parentNode.removeChild(t)},Object.defineProperty(r,"element",{configurable:!0,enumerable:!0,get:function(){return r.elements[0]},set:function(t){r.elements[0]=t}}),["element","elements","model","set"].forEach(function(t){Object.defineProperty(r.publ,t,{configurable:!0,enumerable:!0,get:function(){return r[t]},set:function(e){r[t]=e}})}),r.publ.destroy=function(){r.destroy()},r.publ.mount=function(t){r.mount(t)},r.publ.on=function(){var t=i(arguments);for(var e in t)l[e]=l[e]||[],l[e].push(t[e])},r.publ.unmount=function(){r.unmount()},e&&document){var c=document.createElement("div");c.innerHTML=e,r.elements=n(c.children),function t(e,n){for(var i,o=0;o<e.length;o++){for(var r=0;r<e[o].attributes.length;r++)n[i=e[o].attributes.item(r).name.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})]=n[i]||[],n[i].push(e[o]);t(e[o].children,n)}}(r.elements,r.anchors)}}function o(){function o(t,e){f.disableAnimation?e():(t.getBoundingClientRect(),t.classList.add("animating"),e&&e(),setTimeout(function(){t.classList.remove("animating")},f.animateDuration))}function r(t,e,n,i){f.disableAnimation?i&&i():(t.classList.add(e),t.getBoundingClientRect(),t.classList.add("animating"),t.classList.remove(e),t.classList.add(n),setTimeout(function(){t.classList.remove("animating"),t.classList.remove(n),i&&i()},f.animateDuration))}function l(){"collapse"!==d.style.visibility&&(d.style.visibility="collapse"),d.style.left="-9999px",d.style.top="-9999px","none"!==u.style.display&&(u.style.display="none",u.style.visibility="collapse",u.style.height="auto")}function a(){var t,n;if(s.model.target&&"visible"===d.style.visibility){d.style.width="auto",n=d.getBoundingClientRect();var i=parseInt(f.maxWidth);switch(i&&(d.style.width=n.width>i?i+"px":"auto"),t=s.model.target.getBoundingClientRect(),n=d.getBoundingClientRect(),f.stickTo){case e.stickTo.bottom:d.style.left=t.left+parseInt((t.width-n.width)/2)+"px",d.style.top=t.top+t.height+parseInt(f.stickDistance)+"px";break;case e.stickTo.left:d.style.left=t.left-n.width-parseInt(f.stickDistance)+"px",d.style.top=t.top+(t.height-n.height)/2+"px";break;case e.stickTo.right:d.style.left=t.left+t.width+parseInt(f.stickDistance)+"px",d.style.top=t.top+(t.height-n.height)/2+"px";break;case e.stickTo.top:d.style.left=t.left+(t.width-n.width)/2+"px",d.style.top=t.top-n.height-parseInt(f.stickDistance)+"px"}}}var s=new i(this,t),c=s.anchors.box[0],u=(s.anchors.text[0],s.anchors.more[0]),d=(s.anchors.moreText[0],s.elements[0]),m=!1;l(),"undefined"!=typeof window&&(window.addEventListener("resize",a,!1),window.addEventListener("scroll",a,!1)),s.set(n);var f=s.model;s.onModelUpdate({color:function(t){e.color[t]&&(t="rgb("+(t=e.color[t]).r+", "+t.g+", "+t.b+")"),c.style.backgroundColor=t},contentText:function(t){s.anchors.text[0].innerHTML=t},contentMore:function(t){s.anchors.moreText[0].innerHTML=t},stickTo:function(t){s.elements[0].className="html5tooltip-"+t}}),this.hide=function(t){return m=!0,r(c,f.animateFunction+"-to",f.animateFunction+"-from",function(){m&&(l(),t&&t())}),this},this.show=function(){return m=!1,"visible"!==d.style.visibility&&(d.style.visibility="visible",setTimeout(function(){a(),r(c,f.animateFunction+"-from",f.animateFunction+"-to")})),this},this.showMore=function(){if("visible"!==d.style.visibility)d.style.visibility="visible",r(c,f.animateFunction+"-from",f.animateFunction+"-to"),f.contentMore&&(u.style.display="block",u.style.visibility="visible"),a();else if("block"!==u.style.display&&f.contentMore){u.style.display="block",o(d),a();var t=u.getBoundingClientRect().height;u.style.visibility="visible",u.style.height="0px",o(u,function(){u.style.height=0<t?t+"px":"auto"})}return this},this.moveTooltip=a,s.publ.destroy=function(){"undefined"!=typeof window&&(window.removeEventListener("resize",a),window.removeEventListener("scroll",a)),s.destroy()},s.publ.unmount=function(){l(),s.unmount()}}var r=[],l=[];function a(t,e,n){for(var i,r,l,a=n.length;a--;)if(n[a].model.target===t){i=n[a];break}function s(){t!==r&&i.element!==r&&(i.model.persistent?i.hide(function(){i.unmount()}):i.unmount())}function c(){r=null,t!==l&&(i.model.persistent?setTimeout(s,i.model.hideDelay):s())}i||(i=new o,n.push(i)),i.set(e),i.set("target",t),t.addEventListener("mouseenter",function(){this!==r&&this!==l&&(r=this,setTimeout(function(){this===r&&(i.mount(),i.show())}.bind(this),i.model.delay))}),t.addEventListener("mouseleave",c),t.addEventListener("focus",function(){-1===["INPUT","TEXTAREA"].indexOf(this.tagName)&&null===this.getAttribute("contenteditable")||(l=this,i.mount(),i.showMore())}),t.addEventListener("blur",function(){l=null,r!==i.element&&i.unmount()}),i.element.addEventListener("mouseenter",function(){r=this}),i.element.addEventListener("mouseleave",c)}function s(t,e,n){for(var i=t.getAttribute(e),o=t;!i&&(o=o.parentNode)&&o.getAttribute;)i=o.getAttribute(e);return i||n}function c(t){a(t,{disableAnimation:s(t,"data-tooltip-disable-animation",n.disableAnimation),animateFunction:s(t,"data-tooltip-animate-function",n.animateFunction),color:s(t,"data-tooltip-color",""),contentMore:s(t,"data-tooltip-more",""),contentText:s(t,"data-tooltip",""),delay:s(t,"data-tooltip-delay",n.delay),hideDelay:s(t,"data-tooltip-hide-delay",n.delay),maxWidth:s(t,"data-tooltip-maxwidth","auto"),persistent:s(t,"data-tooltip-persistent",n.persistent),stickTo:s(t,"data-tooltip-stickto",n.stickTo)},l)}var u=function(t){Array.isArray(t)||(t=[t]),function(t){t.forEach(function(t){var e=[];t.targetSelector&&(e=function(t,e){var n=[];try{n=Array.prototype.slice.call(document.querySelectorAll(t))}catch(t){}return n}(t.targetSelector)),e.forEach(function(e){a(e,t,r)})})}(t)};function d(){document.removeEventListener("DOMContentLoaded",d,!1),window.removeEventListener("load",d,!1),u.refresh()}return u.autoinit=u.refresh=function(){(function(t,e){for(var n,i=document.getElementsByTagName("*"),o=[],r=0;n=i[r];r++)n.getAttribute("data-tooltip")&&o.push(n);return o})().forEach(function(t){c(t)})},u.createDefaultTooltip=function(t){c(t)},u.getTooltipByTarget=function(t){for(var e=r.length;e--;)if(r[e].model.target===t)return r[e];for(e=l.length;e--;)if(l[e].model.target===t)return l[e]},"undefined"!=typeof window&&("complete"===document.readyState?d():(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)),window.html5tooltipsPredefined||(window.html5tooltipsPredefined=e,window.HTML5TooltipUIComponent=o)),u});