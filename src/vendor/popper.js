(function(a,b){if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof module==="object"&&module.exports){module.exports=b()}else{a.html5tooltips=b()}}}(this,function(){var j='<div class="html5tooltip" style="box-sizing:border-box;position:fixed;z-index:2147483647">  <div class="html5tooltip-box" box>    <div class="html5tooltip-text" text></div>    <div class="html5tooltip-more" style="overflow:hidden;" more>      <div class="html5tooltip-text" more-text></div>    </div>  </div></div>',n={animateFunction:{fadeIn:"fadein",foldIn:"foldin",foldOut:"foldout",roll:"roll",scaleIn:"scalein",slideIn:"slidein",spin:"spin"},color:{daffodil:{r:255,g:230,b:23},daisy:{r:250,g:211,b:28},mustard:{r:253,g:183,b:23},"citrus zest":{r:250,g:170,b:33},pumpkin:{r:241,g:117,b:63},tangerine:{r:237,g:87,b:36},salmon:{r:240,g:70,b:57},persimmon:{r:234,g:40,b:48},rouge:{r:188,g:35,b:38},scarlet:{r:140,g:12,b:3},"hot pink":{r:229,g:24,b:93},princess:{r:243,g:132,b:174},petal:{r:250,g:198,b:210},lilac:{r:178,g:150,b:199},lavender:{r:123,g:103,b:174},violet:{r:95,g:53,b:119},cloud:{r:195,g:222,b:241},dream:{r:85,g:190,b:237},gulf:{r:49,g:168,b:224},turquoise:{r:35,g:138,b:204},sky:{r:13,g:96,b:174},indigo:{r:20,g:59,b:134},navy:{r:0,g:27,b:74},"sea foam":{r:125,g:205,b:194},teal:{r:0,g:168,b:168},peacock:{r:18,g:149,b:159},ceadon:{r:193,g:209,b:138},olive:{r:121,g:145,b:85},bamboo:{r:128,g:188,b:66},grass:{r:74,g:160,b:63},kelly:{r:22,g:136,b:74},forrest:{r:0,g:63,b:46},chocolate:{r:56,g:30,b:17},"terra cotta":{r:192,g:92,b:32},camel:{r:191,g:155,b:107},linen:{r:233,g:212,b:167},stone:{r:231,g:230,b:225},smoke:{r:207,g:208,b:210},steel:{r:138,g:139,b:143},slate:{r:119,g:133,b:144},charcoal:{r:71,g:77,b:77},black:{r:5,g:6,b:8},white:{r:255,g:255,b:255},"metalic silver":{r:152,g:162,b:171},"metalic gold":{r:159,g:135,b:89},"metalic copper":{r:140,g:102,b:65}},stickTo:{bottom:"bottom",left:"left",right:"right",top:"top"}},f={animateDuration:300,animateFunction:n.animateFunction.fadeIn,delay:500,disableAnimation:false,hideDelay:300,persistent:false,stickTo:n.stickTo.bottom,stickDistance:10};function m(r,v){function w(C,B){return Array.prototype.slice.call(C,B)}function z(B){var F=w(B).map(function(G){return typeof G});var E={};if(F[0]==="object"){E=B[0]}else{if(F[0]==="string"){var D=B[0].split(" ");for(var C in D){E[D[C]]=B[1]}}else{if(F[0]==="function"){E={"":B[0]}}}}return E}function t(F,E){var D;for(var C=0;C<F.length;C++){for(var B=0;B<F[C].attributes.length;B++){D=F[C].attributes.item(B).name.replace(/-([a-z])/g,function(G){return G[1].toUpperCase()});E[D]=E[D]||[];E[D].push(F[C])}t(F[C].children,E)}}function u(B){clearTimeout(q[B]);q[B]=setTimeout(function(){for(var C in x[B]){try{x[B][C](y.model[B])}catch(D){}}if(x[""]){for(var C in x[""]){x[""][C]()}}})}var y=this,A={},x={},q={};y.anchors=[];y.elements=[];y.model={};y.publ=r||{};y.destroy=function(){y.unmount()};y.dispatch=function(B){var C=w(arguments,1);setTimeout(function(){for(var D in A[B]){A[B][D].apply(y.publ,C)}})};y.onModelUpdate=function(){var C=z(arguments);for(var B in C){y.model[B]=y.model[B]||null;x[B]=x[B]||[];x[B].push(C[B]);u(B)}};y.mount=function(D){D=D||document.body;try{var C,B=0;while(C=y.elements[B++]){D.appendChild(C)}}catch(E){throw"Could not mount component: "+E.message}};y.set=function(){var B=z(arguments);for(var C in B){y.model[C]=B[C];u(C)}};y.unmount=function(){var C,B=0;while(C=y.elements[B++]){C.parentNode&&C.parentNode.removeChild(C)}};Object.defineProperty(y,"element",{configurable:true,enumerable:true,get:function(){return y.elements[0]},set:function(B){y.elements[0]=B}});["element","elements","model","set"].forEach(function(B){Object.defineProperty(y.publ,B,{configurable:true,enumerable:true,get:function(){return y[B]},set:function(C){y[B]=C}})});y.publ.destroy=function(){y.destroy()};y.publ.mount=function(B){y.mount(B)};y.publ.on=function(){var C=z(arguments);for(var B in C){A[B]=A[B]||[];A[B].push(C[B])}};y.publ.unmount=function(){y.unmount()};if(v&&document){var s=document.createElement("div");s.innerHTML=v;y.elements=w(s.children);t(y.elements,y.anchors)}}function p(){function x(G,F){if(!B.disableAnimation){G.getBoundingClientRect();G.classList.add("animating");F&&F();setTimeout(function(){G.classList.remove("animating")},B.animateDuration)}else{F()}}function A(H,I,F,G){if(!B.disableAnimation){H.classList.add(I);H.getBoundingClientRect();H.classList.add("animating");H.classList.remove(I);H.classList.add(F);setTimeout(function(){H.classList.remove("animating");H.classList.remove(F);if(G){G()}},B.animateDuration)}else{if(G){G()}}}function y(){if(q.style.visibility!=="collapse"){q.style.visibility="collapse"}q.style.left="-9999px";q.style.top="-9999px";if(v.style.display!=="none"){v.style.display="none";v.style.visibility="collapse";v.style.height="auto"}}function t(F){r=true;A(u,B.animateFunction+"-to",B.animateFunction+"-from",function(){if(!r){return}y();F&&F()});return this}function w(){var H,F;if(!z.model.target||q.style.visibility!=="visible"){return}q.style.width="auto";F=q.getBoundingClientRect();var G=parseInt(B.maxWidth);if(G){q.style.width=F.width>G?G+"px":"auto"}H=z.model.target.getBoundingClientRect();F=q.getBoundingClientRect();switch(B.stickTo){case n.stickTo.bottom:q.style.left=H.left+parseInt((H.width-F.width)/2)+"px";q.style.top=H.top+H.height+parseInt(B.stickDistance)+"px";break;case n.stickTo.left:q.style.left=H.left-F.width-parseInt(B.stickDistance)+"px";q.style.top=H.top+(H.height-F.height)/2+"px";break;case n.stickTo.right:q.style.left=H.left+H.width+parseInt(B.stickDistance)+"px";q.style.top=H.top+(H.height-F.height)/2+"px";break;case n.stickTo.top:q.style.left=H.left+(H.width-F.width)/2+"px";q.style.top=H.top-F.height-parseInt(B.stickDistance)+"px";break}}function C(){r=false;if(q.style.visibility!=="visible"){q.style.visibility="visible";setTimeout(function(){w();A(u,B.animateFunction+"-from",B.animateFunction+"-to")})}return this}function s(){if(q.style.visibility!=="visible"){q.style.visibility="visible";A(u,B.animateFunction+"-from",B.animateFunction+"-to");if(B.contentMore){v.style.display="block";v.style.visibility="visible"}w()}else{if(v.style.display!=="block"&&B.contentMore){v.style.display="block";x(q);w();var F=v.getBoundingClientRect().height;v.style.visibility="visible";v.style.height="0px";x(v,function(){v.style.height=F>0?F+"px":"auto"})}}return this}var z=new m(this,j),u=z.anchors.box[0],D=z.anchors.text[0],v=z.anchors.more[0],E=z.anchors.moreText[0],q=z.elements[0],r=false;y();if(typeof window!=="undefined"){window.addEventListener("resize",w,false);window.addEventListener("scroll",w,false)}z.set(f);var B=z.model;z.onModelUpdate({color:function(F){if(n.color[F]){F=n.color[F];F="rgb("+F.r+", "+F.g+", "+F.b+")"}u.style.backgroundColor=F},contentText:function(F){z.anchors.text[0].innerHTML=F},contentMore:function(F){z.anchors.moreText[0].innerHTML=F},stickTo:function(F){z.elements[0].className="html5tooltip-"+F}});this.hide=t;this.show=C;this.showMore=s;this.moveTooltip=w;z.publ.destroy=function(){if(typeof window!=="undefined"){window.removeEventListener("resize",w);window.removeEventListener("scroll",w)}z.destroy()};z.publ.unmount=function(){y();z.unmount()}}var k=[],e=[];function l(s,y,t){var x;for(var r=t.length;r--;){if(t[r].model.target===s){x=t[r];break}}if(!x){x=new p;t.push(x)}x.set(y);x.set("target",s);var q,u;function v(){if(s===q||x.element===q){return}if(x.model.persistent){x.hide(function(){x.unmount()})}else{x.unmount()}}function w(){q=null;if(s===u){return}if(x.model.persistent){setTimeout(v,x.model.hideDelay)}else{v()}}s.addEventListener("mouseenter",function(){if(this===q||this===u){return}q=this;setTimeout(function(){if(this===q){x.mount();x.show()}}.bind(this),x.model.delay)});s.addEventListener("mouseleave",w);s.addEventListener("focus",function(){if(["INPUT","TEXTAREA"].indexOf(this.tagName)===-1&&this.getAttribute("contenteditable")===null){return}u=this;x.mount();x.showMore()});s.addEventListener("blur",function(){u=null;if(q!==x.element){x.unmount()}});x.element.addEventListener("mouseenter",function(){q=this});x.element.addEventListener("mouseleave",w)}function c(q,u){var s=(u||document).getElementsByTagName("*"),r=[];for(var t=0,v;v=s[t];t++){if(v.getAttribute(q)){r.push(v)}}return r}function b(t,r,q){var s=t.getAttribute(r),u=t;while(!s&&(u=u.parentNode)&&u.getAttribute){s=u.getAttribute(r)}return s||q}function o(){c("data-tooltip").forEach(function(q){i(q)})}function i(r){var q={disableAnimation:b(r,"data-tooltip-disable-animation",f.disableAnimation),animateFunction:b(r,"data-tooltip-animate-function",f.animateFunction),color:b(r,"data-tooltip-color",""),contentMore:b(r,"data-tooltip-more",""),contentText:b(r,"data-tooltip",""),delay:b(r,"data-tooltip-delay",f.delay),hideDelay:b(r,"data-tooltip-hide-delay",f.delay),maxWidth:b(r,"data-tooltip-maxwidth","auto"),persistent:b(r,"data-tooltip-persistent",f.persistent),stickTo:b(r,"data-tooltip-stickto",f.stickTo)};l(r,q,e)}function h(r,t){var s=[];try{s=Array.prototype.slice.call((t||document).querySelectorAll(r))}catch(q){}return s}function d(q){q.forEach(function(s){var r=[];if(s.targetSelector){r=h(s.targetSelector)}r.forEach(function(t){l(t,s,k)})})}var a=function(q){if(!Array.isArray(q)){q=[q]}d(q)};a.autoinit=a.refresh=function(){o()};a.createDefaultTooltip=function(q){i(q)};a.getTooltipByTarget=function(r){for(var q=k.length;q--;){if(k[q].model.target===r){return k[q]}}for(var q=e.length;q--;){if(e[q].model.target===r){return e[q]}}};function g(){document.removeEventListener("DOMContentLoaded",g,false);window.removeEventListener("load",g,false);a.refresh()}if(typeof window!=="undefined"){if(document.readyState==="complete"){g()}else{document.addEventListener("DOMContentLoaded",g,false);window.addEventListener("load",g,false)}if(!window.html5tooltipsPredefined){window.html5tooltipsPredefined=n;window.HTML5TooltipUIComponent=p}}return a}));